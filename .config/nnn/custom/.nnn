#!/usr/bin/env sh

# theme: https://github.com/jarun/nnn/wiki/Themes
BLK="6e"
CHR="b6"
DIR="6e"
EXE="b6"
REG="00"
HARDLINK="b6"
SYMLINK="b6"
MISSING="d9"
ORPHAN="d9"
FIFO="e8"
SOCK="e8"
OTHER="73"

## exports
export NNN_FCOLORS="$BLK$CHR$DIR$EXE$REG$HARDLINK$SYMLINK$MISSING$ORPHAN$FIFO$SOCK$OTHER"
export NNN_FIFO=/tmp/nnn.fifo
export NNN_PLUG='p:preview-tui;n:nuke;i:imgview;f:fzcd;l:-personal/qlmanage;'

# fix preview-tui outputting incorrect characters.
# See https://github.com/jarun/nnn/issues/1069
export PAGER="less -R"

## hidden files on top
export LC_COLLATE="C"

for file in $(dirname "$0")/.{,quitcd}; do
  [ -r "$file" ] && source "$file"
done

function symlinkPersonalPlugins() {
  local script_path=$(dirname $(realpath $0))
  local source=$script_path/custom/plugins
  local symlink=$HOME/.config/nnn/plugins/personal

  if [ ! -e "$symlink" ]; then
    echo "ln -s $source $symlink"
    ln -s $source $symlink
  fi
}

symlinkPersonalPlugins
