#!/usr/bin/env bash

# Make sure we’re using the latest Homebrew
brew update

# Upgrade any already-installed formulae
brew upgrade

# Install GNU core utilities (those that come with OS X are outdated)
brew install coreutils
echo "Don’t forget to add $(brew --prefix coreutils)/libexec/gnubin to \$PATH."
# Install GNU `find`, `locate`, `updatedb`, and `xargs`, g-prefixed
brew install findutils
# Install Bash 4
brew install bash

# Install wget with IRI support
brew install wget --enable-iri

# Install RingoJS and Narwhal
# Note that the order in which these are installed is important; see http://git.io/brew-narwhal-ringo.
brew install ringojs
brew install narwhal

# Install more recent versions of some OS X tools
brew tap homebrew/dupes
brew install homebrew/dupes/grep
brew tap josegonzalez/homebrew-php
brew install php54 --with-fpm --with-apache --with-mysql --with-pgsql

# Install rbenv for Ruby version management
# eval "$(rbenv init -)" is already added in .bash_profile
brew install rbenv ruby-build

# Install other useful binaries
brew install ack
brew install boot2docker
brew install codeception
brew install composer
brew install docker
brew install ctags
brew install editorconfig
brew install elasticsearch
brew install git
brew install git-crypt
brew install git-flow
brew install go
brew install hub
brew install jasmine
brew install lynx
brew install mysql
brew install nginx
brew install node
brew install nvm
brew install phpmyadmin
brew install phppgadmin
brew install phantomjs
brew install pigz
brew install postgresql
brew install python
brew install qt
brew install redis
brew install rename
brew install rhino
brew install sequel-pro
brew install the_silver_searcher
brew install tree
brew install webkit2png
brew install vagrant
brew install vim
brew install zopfli

brew tap homebrew/versions
brew install lua52

# Install native apps
brew tap phinze/homebrew-cask
brew install brew-cask

function installcask() {
	if brew cask info "${@}" | grep "Not installed" > /dev/null; then
		brew cask install "${@}"
	else
		echo "${@} is already installed."
	fi
}

installcask alfred
installcask asepsis
installcask betterzipql
installcask dash
installcask dropbox
installcask google-app-engine-launcher
installcask google-chrome
installcask filezilla
installcask firefox
installcask imagealpha
installcask imageoptim
installcask integrity
installcask iterm2
installcask miro-video-converter
installcask moom
installcask opera-next
installcask pckeyboardhack
installcask quicklook-csv
installcask quicklook-json
installcask qlcolorcode
installcask qlmarkdown
installcask qlstephen
installcask screenhero
installcask smoothmouse
installcask sourcetree
installcask sublime-text
installcask the-unarchiver
installcask thunderbird
installcask tor-browser
installcask transmission
installcask virtualbox
installcask vlc
installcask witch
installcask xscope

# Remove outdated versions from the cellar
brew cleanup
